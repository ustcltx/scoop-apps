{
    "version": "6.1.0",
    "description": "The official client for Alibaba's cloud dirve service",
    "homepage": "https://www.aliyundrive.com/",
    "license": {
        "identifier": "EULA",
        "url": "https://www.aliyundrive.com/protocol/service"
    },
    "url": "https://sw.pcmgr.qq.com/2d50ab9258db39c4b4dae708d20067b0/66b18893/spcmgr/download/aDrive-6.1.0.exe#/aDrive-6.1.0.7z",
    "hash": "sha512:6186b7862e53d66c1d5bae40b47d078d79cb586d2a1a2dfaa2ffbf0b1a56ab6b0cdea53550388b1c75966445e0263f74f1fc54a6ccaf7a2c65d09d33275db118",
    "post_install": [
        "@('$PLUGINSDIR', '$TEMP') | ForEach-Object {",
        "    Remove-Item \"$dir\\$_\" -Recurse -Force",
        "}"
    ],
    "installer": {
        "script": [
            "if (!(Test-Path \"$persist_dir\\Cache\")) {",
            "    New-Item \"$persist_dir\\Cache\" -Type Directory -Force | Out-Null",
            "}",
            "$runtimeCache = \"$env:APPDATA\\aDrive\"",
            "$runtimeutForpcCache = \"$env:APPDATA\\utForpc\"",
            "$runtimeCachePersist = \"$persist_dir\\Cache\"",
            "if (Test-Path $runtimeCachePersist) {",
            "    Remove-Item $runtimeCache -Force -Recurse -ErrorAction SilentlyContinue",
            "    Remove-Item $runtimeutForpcCache -Force -Recurse -ErrorAction SilentlyContinue",
            "    New-Item -Type Junction -Path $runtimeCache -Target $runtimeCachePersist | Out-Null",
            "    New-Item -Type Junction -Path $runtimeutForpcCache -Target $runtimeCachePersist | Out-Null",
            "} else {",
            "    if (Test-Path $runtimeCache) {",
            "        Move-Item $runtimeCache $runtimeCachePersist -Force",
            "        New-Item -Type Junction -Path $runtimeCache -Target $runtimeCachePersist | Out-Null",
            "    }",
            "    if (Test-Path $runtimeutForpcCache) {",
            "        Move-Item $runtimeutForpcCache $runtimeCachePersist -Force",
            "        New-Item -Type Junction -Path $runtimeutForpcCache -Target $runtimeCachePersist | Out-Null",
            "    }",
            "}"
        ]
    },
    "uninstaller": {
        "script": [
            "$runtimeCache = \"$env:APPDATA\\aDrive\"",
            "$runtimeutForpcCache = \"$env:APPDATA\\utForpc\"",
            "$runtimeCachePersist = \"$persist_dir\\Cache\"",
            "if (!(Test-Path $runtimeCachePersist)) {",
            "    Move-Item $runtimeCache $runtimeCachePersist -Force",
            "    Move-Item $runtimeutForpcCache $runtimeCachePersist -Force",
            "} else {",
            "    Remove-Item $runtimeCache -Force -Recurse -ErrorAction SilentlyContinue",
            "    Remove-Item $runtimeutForpcCache -Force -Recurse -ErrorAction SilentlyContinue",
            "}"
        ]
    },
    "shortcuts": [["aDrive.exe", "阿里云盘"]]
}
